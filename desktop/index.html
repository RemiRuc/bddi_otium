<!DOCTYPE html>
<html>

<head>
    <title>Otium</title>
    <link rel="stylesheet" type="text/css" href="/desktop/css/styles.css" />
    <link rel="stylesheet" type="text/css" href="/both/css/styles.css" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
</head>



<!-- BODY -->

<body>
    <div id="validation"></div>
    <div style="z-index: 10000; position: absolute;"><input id="q" type="number"><button id="go">GO</button></div>
    <!-- background color animation -->
    <div class="content content--canvas">
    </div>
    <!-- fin background color animation -->

    <!-- fixed logo  -->
        <div class="logo_top_left">
            <img src="/both/assets/img/otium_logo.svg" alt="">
        </div>
    <!-- end fixed logo  -->

    <div id="navigation">

    </div>



    <!----------- 
    ------------- LOAD SCRIPT
    ----------->


    <!-- Lib -->
    <script src="/dev/utils.js"></script>
    <script src="/lib/utils/utils.js"></script>
    <script src="/lib/threejs/build/three.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/lib/perlin/perlin.js"></script>

    
    <!-- background color animation links -->
    <script src="/lib/noise/noise.min.js"></script>
    <script src="/desktop/js/background.js"></script>


    <script src="/class/Result.js"></script>
    <script src="/desktop/js/connexion.js"></script>

    <!-- PAGES -->
    <script src="/class/Page.js"></script>

    <!-- INTRO -->
    <script src="/views/intro/animation-logo.js"></script>
    <script src="/views/intro/intro.js"></script>
    <script src="/views/intro/connexion.js"></script>
    <script src="/views/intro/button_valider.js"></script>
    <script src="/views/intro/timeline.js"></script>
    
    <!-- QUESTION -->
    <script src="/views/questions/q1.js"></script>
    <script src="/views/questions/q2.js"></script>
    <script src="/views/questions/q3.js"></script>
    <script src="/views/questions/q4.js"></script>
    <script src="/views/questions/q5.js"></script>
    <script src="/views/questions/q6.js"></script>
    <script src="/views/questions/q7.js"></script>

    <script src="/views/arborescence.js"></script>

    <script>
        intro.animationLogo.displayPage("desktop")
        document.getElementById("go").addEventListener("click", () => {
            let q = document.getElementById("q").value
            console.log("q"+q)
            questions["q"+q].comeBackTo('desktop')
            socket.emit("pageChange", q)
        })

        socket.on("validationQuestion", (data) => {
            questions["q"+data.from].transitionTo("desktop", questions["q"+data.to])
        })

        socket.on("validationWait", (data) => {
            document.getElementById("validation").style.height = data + "%"
        })

        socket.on("validationCancel", (data) => {
            document.getElementById("validation").style.height = 0+ "%"
        })
    </script>
</body>

</html>